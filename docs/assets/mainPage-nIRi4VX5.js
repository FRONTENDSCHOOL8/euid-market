import{g as e,i as u,a as B}from"./tiger-TocbYAJf.js";import{s as f,a as A,e as C}from"./template-edFkWHV-.js";import{g as c}from"./index-35H_NU9g.js";import{r as I}from"./renderNavBar-Vb5f-fgx.js";import{p as v}from"./pocketbase-zYAbJ1uT.js";function p(t,n){if(typeof t=="string"&&(t=e(t)),typeof n!="string")throw new TypeError("addClass 함수의 두 번째 인수는 문자 타입 이어야 합니다.");t.classList.add(n)}function a(t,n){if(typeof t=="string"&&(t=e(t)),!n){t.className="";return}if(typeof n!="string")throw new TypeError("removeClass 함수의 두 번째 인수는 문자 타입 이어야 합니다.");t.classList.remove(n)}function L(t,n){if(typeof t=="string"&&(t=e(t)),typeof n!="string")throw new TypeError("toggleClass 함수의 두 번째 인수는 문자 타입 이어야 합니다.");return t.classList.toggle(n)}function U(t){if(typeof t=="string"&&(t=e(t)),t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){t.value="";return}t.textContent=""}new Swiper(".swiper",{direction:"horizontal",loop:!0,autoplay:{delay:5e3},speed:1e3,pagination:{el:".swiper-pagination"},navigation:{},scrollbar:{el:".swiper-scrollbar"}});const g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABsSURBVHgB7ZVRCoAwDENT8SC7iif3KrtJdTBBpJtuHwEhDwpjHQ2EsAJCMHD3VAoMqthFwiALyEjw/4Jrq9FJ4P2+JDZ8ZGYZX3lEf5YUzaZbaq3Gi6V7PW9n5XDwiKU99NNIkC44BXUBC3EAhnB8K51c77YAAAAASUVORK5CYII=",D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABjSURBVHgB7ZXRCYBADEOjOEhWcXJXcRNFKPhji/UjcJgHgSM9LlCOFjBGBEOysCNENJkhxoHjBy5FjS/87M7FjgbE/fW/ik8Py1s6FTUW/hbnFXnrMr8N4UnjwBEghAvY/JwT0/UZiKGCF+AAAAAASUVORK5CYII=";c.defaults({ease:"power2.inOut"});const M=e(".Main-menu-story"),b=e(".Main-story-board"),d=e(".active-button-list"),S=e(".Main-menu-exchange"),J=e(".Main-exchange"),F=e(".Main-product-list"),o=e(".Main-plus-button"),N=e(".Main-menu-bar"),K=e(".Main-banner");function O(){return[v.collection("senior_story").getList(),v.collection("product_list").getList()]}(async()=>{const[t,n]=await Promise.all(O()),m=t.items,R=n.items;function T(){m.forEach(i=>{u(".Main-story-board",f(i))}),l(".story")}function w(){const i=B(".Main-menu-list li"),s=B(".page-list");i.forEach(r=>{a(r,"isActive")}),s.forEach(r=>{a(r,"isActive")}),a(o,"isActive"),a(d,"isActive"),A(o.firstElementChild,"src",g)}function y(i,s){p(i,"isActive"),p(s,"isActive")}function E(i){const s=i.split(" ");i==="Main-menu-exchange"&&!s.includes("isActive")&&(w(),y(S,J)),i==="Main-menu-story"&&!s.includes("isActive")&&(w(),y(M,b))}function l(i){c.from(i,{opacity:0,y:10,stagger:.05})}function h(i,s){s===C?i.forEach(r=>{u(".Main-product-list",s(r))}):s===f&&i.forEach(r=>{u(".Main-story-board",s(r))})}function Y(i){const s=i.currentTarget.className;E(s),U(F),h(R,C),l(".product")}function x(i){const s=i.currentTarget.className;E(s),U(b),h(m,f),l(".story")}function X(){parseInt(window.scrollY)>=220?p(N,"fixed"):(a(N,"fixed"),K.style.transform=`translateY(${-window.scrollY/2.5}px)`)}function j(){o.addEventListener("mouseover",()=>{c.to(".Main-plus-button",{duration:.2,scale:1.08,y:-5})}),o.addEventListener("mouseout",()=>{c.to(".Main-plus-button",{duration:.2,scale:1,y:0})}),o.addEventListener("click",()=>{A(o.firstElementChild,"src")===g?A(o.firstElementChild,"src",D):A(o.firstElementChild,"src",g),L(o,"isActive"),L(d,"isActive"),Array.from(d.classList).includes("isActive")&&c.from(".active-button-list > li",{opacity:0,x:15,y:15,stagger:.02,ease:"power2.out"})})}I(),T(),M.addEventListener("click",x),S.addEventListener("click",Y),window.addEventListener("scroll",X),j()})();
