import"./tiger-gZF_wzjS.js";import"./main-lNZmTOa2.js";import{p as r}from"./pocketbase-x9NIBkj4.js";import{g as s,b as i,c as y}from"./insert-SaVLNoVJ.js";import"./renderNavBar-gTwwGWGl.js";const{localStorage:w}=window;function M(e){return new Promise((t,a)=>{e?w.removeItem(e):w.clear(),t()})}const B="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.6817%207.17504L12.735%204.22921L13.9142%203.05088C14.4392%202.52588%2015.6417%202.42171%2016.2708%203.05088L16.86%203.64004C17.4892%204.26921%2017.3858%205.47171%2016.86%205.99754L15.6817%207.17504ZM14.5033%208.35421L6.25334%2016.6042L2.42334%2017.4875L3.30667%2013.6575L11.5567%205.40754L14.5033%208.35421Z'%20fill='black'/%3e%3c/svg%3e",p="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.1923%2010.4423L7.94229%2016.6923C7.88422%2016.7504%207.81528%2016.7964%207.73941%2016.8278C7.66354%2016.8593%207.58223%2016.8755%207.5001%2016.8755C7.41798%2016.8755%207.33666%2016.8593%207.26079%2016.8278C7.18492%2016.7964%207.11598%2016.7504%207.05792%2016.6923C6.99985%2016.6342%206.95378%2016.5653%206.92236%2016.4894C6.89093%2016.4135%206.87476%2016.3322%206.87476%2016.2501C6.87476%2016.168%206.89093%2016.0867%206.92236%2016.0108C6.95378%2015.9349%206.99985%2015.866%207.05792%2015.8079L12.8665%2010.0001L7.05792%204.19229C6.94064%204.07502%206.87476%203.91596%206.87476%203.7501C6.87476%203.58425%206.94064%203.42519%207.05792%203.30792C7.17519%203.19064%207.33425%203.12476%207.5001%203.12476C7.66596%203.12476%207.82502%203.19064%207.94229%203.30792L14.1923%209.55792C14.2504%209.61596%2014.2965%209.68489%2014.328%209.76077C14.3594%209.83664%2014.3756%209.91797%2014.3756%2010.0001C14.3756%2010.0822%2014.3594%2010.1636%2014.328%2010.2394C14.2965%2010.3153%2014.2504%2010.3842%2014.1923%2010.4423Z'%20fill='black'/%3e%3c/svg%3e",E="data:image/svg+xml,%3csvg%20width='8'%20height='5'%20viewBox='0%200%208%205'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20id='Polygon%201'%20d='M4.40665%204.59968C4.17434%204.82322%203.80691%204.82322%203.5746%204.59968L0.386933%201.53235C-0.00226879%201.15784%200.262833%200.5%200.802958%200.5L7.17829%200.5C7.71842%200.5%207.98352%201.15784%207.59432%201.53235L4.40665%204.59968Z'%20fill='%23919191'/%3e%3c/svg%3e",P="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%3e%3cpath%20d='M2.04179%204.83328C2.0419%204.31974%202.18498%203.81494%202.45713%203.36787C2.72928%202.92081%203.12127%202.54666%203.59505%202.28174C4.06883%202.01682%204.60832%201.87012%205.16115%201.85588C5.71399%201.84164%206.26141%201.96034%206.75027%202.20047C7.23914%202.44059%207.65286%202.79398%207.95129%203.22635C8.24971%203.65872%208.42271%204.15537%208.45348%204.66812C8.48426%205.18087%208.37177%205.69231%208.12693%206.15279C7.8821%206.61327%207.51323%207.00716%207.05612%207.29624C8.0405%207.6315%208.8943%208.23263%209.50766%209.02226C10.121%209.8119%2010.4659%2010.7539%2010.4978%2011.7271C10.4964%2011.832%2010.4515%2011.9324%2010.3723%2012.0072C10.2931%2012.0821%2010.1858%2012.1256%2010.0729%2012.1288C9.95992%2012.1319%209.85003%2012.0944%209.76616%2012.0241C9.68228%2011.9538%209.63092%2011.8561%209.62279%2011.7514C9.58805%2010.696%209.1121%209.69456%208.2958%208.95938C7.47951%208.2242%206.38701%207.81305%205.24983%207.81305C4.11265%207.81305%203.02015%208.2242%202.20385%208.95938C1.38756%209.69456%200.911608%2010.696%200.876871%2011.7514C0.87103%2011.8575%200.820682%2011.9573%200.736614%2012.0293C0.652545%2012.1013%200.541441%2012.1399%200.427105%2012.1368C0.312769%2012.1337%200.204294%2012.0891%200.12492%2012.0126C0.0455451%2011.9361%200.00158396%2011.8338%200.00245408%2011.7276C0.0342757%2010.7544%200.379058%209.81223%200.992421%209.02249C1.60578%208.23274%202.45965%207.63153%203.44412%207.29624C3.01177%207.02304%202.65796%206.65579%202.41353%206.22649C2.1691%205.79719%202.04148%205.31889%202.04179%204.83328ZM5.25012%202.66662C4.63128%202.66662%204.03779%202.89489%203.6002%203.30122C3.16262%203.70755%202.91679%204.25865%202.91679%204.83328C2.91679%205.40792%203.16262%205.95902%203.6002%206.36535C4.03779%206.77168%204.63128%206.99995%205.25012%206.99995C5.86896%206.99995%206.46245%206.77168%206.90004%206.36535C7.33762%205.95902%207.58345%205.40792%207.58345%204.83328C7.58345%204.25865%207.33762%203.70755%206.90004%203.30122C6.46245%202.89489%205.86896%202.66662%205.25012%202.66662ZM10.086%204.83328C9.99962%204.83328%209.91562%204.8387%209.83279%204.84953C9.77495%204.85915%209.71563%204.85785%209.65835%204.84571C9.60107%204.83358%209.54701%204.81085%209.49939%204.77889C9.45177%204.74693%209.41158%204.7064%209.3812%204.6597C9.35082%204.613%209.33088%204.5611%209.32257%204.50709C9.31426%204.45309%209.31775%204.39808%209.33284%204.34535C9.34792%204.29262%209.37428%204.24326%209.41036%204.2002C9.44643%204.15714%209.49148%204.12126%209.54281%204.09472C9.59414%204.06818%209.6507%204.0515%209.70912%204.0457C10.2893%203.96781%2010.8809%204.07126%2011.3908%204.33978C11.9007%204.6083%2012.3%205.02664%2012.5258%205.52896C12.7516%206.03128%2012.7912%206.58906%2012.6382%207.11453C12.4852%207.64%2012.1484%208.10332%2011.6808%208.43157C12.3682%208.71738%2012.9518%209.18178%2013.3613%209.76875C13.7708%2010.3557%2013.9886%2011.0402%2013.9885%2011.7395C13.9885%2011.8473%2013.9424%2011.9506%2013.8603%2012.0268C13.7783%2012.103%2013.667%2012.1458%2013.551%2012.1458C13.4349%2012.1458%2013.3236%2012.103%2013.2416%2012.0268C13.1595%2011.9506%2013.1135%2011.8473%2013.1135%2011.7395C13.1134%2011.1351%2012.9037%2010.5468%2012.5153%2010.0617C12.127%209.57663%2011.5807%209.2206%2010.9575%209.04636L10.646%208.9597V8.05187L10.8851%207.93866C11.2396%207.7719%2011.5233%207.49907%2011.6903%207.1642C11.8573%206.82934%2011.8979%206.45199%2011.8055%206.09307C11.7132%205.73415%2011.4932%205.4146%2011.1812%205.18603C10.8692%204.95745%2010.4834%204.83318%2010.086%204.83328Z'%20fill='%235A85EE'/%3e%3c/svg%3e";function S(e){let{id:t,user_photo:a,user_nickname:n,user_year:f}=e;return`
<figure>
<div class="user--profile-picture-wrapper">
  <img
    class="user--profile-picture"
    src="http://127.0.0.1:8090/api/files/users/${t}/${a}"
    alt="${n}ÎãòÏùò ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ"
  />
  <a href="/src/pages/Userpage/children_pages/profileCard/index.html"
    ><img
      class="user--profile-modify"
      src=${B}
      alt="ÏàòÏ†ïÌïòÍ∏∞"
  /></a>
</div>
<figcaption>
  <p>${n}<span>${f}Í∏∞</span></p>
  <span class="user--answer">ÎãµÎ≥Ä 35 </span>
</figcaption>
</figure>
`}function T(e){return`<li class="user--profile-content user--profile-badge">
  <span>ÌôúÎèôÎ∞∞ÏßÄ ${e.items.length}Í∞ú</span>
  <button class="user--profile-more-button user--profile-badge-button">
    <img src=${p} alt="Îçî Î≥¥Í∏∞" />
  </button>
  </li>
<li>
  <span>ÌåêÎß§ÏÉÅÌíà 0Í∞ú</span>
  <button>
    <img src=${p} alt="Îçî Î≥¥Í∏∞" />
  </button>
</li>
<li class="user--profile-content user--profile-manner" >
  <span>Î∞õÏùÄ Îß§ÎÑàÌèâÍ∞Ä</span>
  <button class="user--profile-more-button user--profile-manner-button">
    <img src=${p}  alt="Îçî Î≥¥Í∏∞" />
  </button>
</li>
<li>
  <span>Î∞õÏùÄ Í±∞Îûò ÌõÑÍ∏∞ 0Í∞ú</span>
  <button>
    <img src=${p}  alt="Îçî Î≥¥Í∏∞" />
  </button>
 
</li>
`}function k(e){return`
  <li><a href="">Î≥¥Í¥ÄÏßàÎ¨∏</a></li>
  <li><a>ÏÑ§Ï†ï</a></li>
  <li><a>ÏßÄÏãù iN Í≥µÏãù Î∏îÎ°úÍ∑∏</a></li>
  <li><a>ÏÑúÎπÑÏä§ Ï†ïÎ≥¥</a></li>
  <li><a>Í≥µÏßÄÏÇ¨Ìï≠</a></li>
  <li><button class="user--logout">
    <span>Î°úÍ∑∏ÏïÑÏõÉ</span> </button>
    <span class="user--logout-nickname">${e}</span>
   
  </li>`}function Z(e){return` <label for="temperature"
  >Ïó¥Ï†ïÏò®ÎèÑ
  <a href=""
    ><img src="/src/assets/icons/profile/information.svg" alt=""
  /></a>
</label>
<div class="user--temperature-progressbar-wrapper">
  <span class="user--default-temperture"
    >Ï≤´ Ïò®ÎèÑ 36.5‚ÑÉ
    <img src=${E} alt="" />
  </span>
  <span class="user--temperture">${e}‚ÑÉ ${e<36?"üôÇ":"üòé"}</span>
  <progress id="temperature" value="${e}" max="100">${e}‚ÑÉ</progress>
</div>`}const j=`  
<div class="user--profile-badge-detail is-active"><div>`;function A(e,t){return`
        <figure>
          <img src="${e}" />
          <figcaption><p>${t}</p></figcaption>
       </figure> 
    `}const I='<div class="user--profile-manner-wrapper "> </div>';function R(e,t){return`
      <div class="user--profile-manner-detail">
          <img src=${P} alt="" />
          <span>${e}</span><p>${t}</p> 
      </div>`}const g="c24hzewie4gweri";(async()=>{const e=(await r.collection("users").getList(1,50,{filter:`id = "${g}" `})).items[0],t=await r.collection("user_badge").getList(1,50,{filter:`user_id= "${g}"`}),a=s(".user--profile-menu"),n=s(".user--profile-contents"),f=s(".user--contents");i(a,S(e)),i(s(".user--profile-temperture"),Z(e.user_temperature)),i(n,T(t)),i(f,k(e.user_nickname));const L=s(".user--logout");function b(){r.authStore.clear(),M("auth"),window.location.reload()}L.addEventListener("click",b);const d=document.querySelector(".user--profile-badge"),l=document.querySelector(".user--profile-badge-button");async function h(){if(Array.from(l.classList).includes("is-active"))l.classList.remove("is-active"),d.classList.remove("is-active"),s(".user--profile-badge-detail").style="display:none";else{const c=(await r.collection("user_badge_join_view").getList(1,50,{filter:`user_id= "${g}" `})).items;l.classList.add("is-active"),d.classList.add("is-active"),d.insertAdjacentHTML("afterend",j),c.forEach(u=>{console.log(u);let{id:C,badge_img:m,badge_title:_}=u;const x=`http://127.0.0.1:8090/api/files/user_badge_join_view/${C}/${m}`;i(s(".user--profile-badge-detail"),A(x,_))})}}const o=s(".user--profile-manner-button"),v=s(".user--profile-manner");async function $(){if(Array.from(o.classList).includes("is-active"))o.classList.remove("is-active"),v.classList.remove("is-active"),s(".user--profile-manner-wrapper").style="display:none";else{const c=(await r.collection("user_manner_join_view").getList(1,50,{filter:`user_id= "${g}" `})).items;y(v,I),o.classList.add("is-active"),s(".user--profile-manner").classList.add("is-active"),!c.length==0&&c.forEach(u=>{let{manner_title:C,count_manner:m}=u;i(s(".user--profile-manner-wrapper"),R(m,C))})}}l.addEventListener("click",h),o.addEventListener("click",$)})();
