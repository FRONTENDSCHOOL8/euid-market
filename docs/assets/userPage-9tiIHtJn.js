import"./tiger-5hZ-PmLe.js";import"./main-Abp3wEEg.js";import{p as r}from"./pocketbase-zYAbJ1uT.js";import{u as S,p as P,a as B,b as E,c as $,d as j,m as k,e as M}from"./template-YiXSuqHX.js";import{g as e,c as s,d as A}from"./insert-xagiYKFv.js";import"./renderNavBar-c6batOFe.js";const{localStorage:g}=window;function C(t){return new Promise((c,f)=>{t?g.removeItem(t):g.clear(),c()})}const l="bexmuprbriobf8v";(async()=>{const t=(await r.collection("users").getList(1,10,{filter:`id = "${l}" `})).items[0],c=await r.collection("user_badge").getList(1,50,{filter:`user_id= "${l}"`}),f=e(".user--profile-menu"),v=e(".user--profile-contents"),L=e(".user--contents");s(f,E(t)),s(e(".user--profile-temperture"),S(t.user_temperature)),s(v,P(c)),s(L,B(t.user_nickname));const _=e(".user--logout");function b(){r.authStore.clear(),C("auth"),window.location.reload()}_.addEventListener("click",b);const u=document.querySelector(".user--profile-badge"),i=document.querySelector(".user--profile-badge-button");async function w(){if(Array.from(i.classList).includes("is-active"))i.classList.remove("is-active"),u.classList.remove("is-active"),e(".user--profile-badge-detail").style="display:none";else{const o=(await r.collection("user_badge_join_view").getList(1,50,{filter:`user_id= "${l}" `})).items;i.classList.add("is-active"),u.classList.add("is-active"),u.insertAdjacentHTML("afterend",$),o.forEach(n=>{console.log(n);let{id:d,badge_img:m,badge_title:h}=n;const y=`https://euid-marke.pockethost.io/api/files/user_badge_join_view/${d}/${m}`;s(e(".user--profile-badge-detail"),j(y,h))})}}const a=e(".user--profile-manner-button"),p=e(".user--profile-manner");async function T(){if(Array.from(a.classList).includes("is-active"))a.classList.remove("is-active"),p.classList.remove("is-active"),e(".user--profile-manner-wrapper").style="display:none";else{const o=(await r.collection("user_manner_join_view").getList(1,50,{filter:`user_id= "${l}" `})).items;A(p,k),a.classList.add("is-active"),e(".user--profile-manner").classList.add("is-active"),!o.length==0&&o.forEach(n=>{let{manner_title:d,count_manner:m}=n;s(e(".user--profile-manner-wrapper"),M(m,d))})}}i.addEventListener("click",w),a.addEventListener("click",T)})();
