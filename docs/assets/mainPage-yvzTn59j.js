import"./tiger-5hZ-PmLe.js";import{g as o,a as A}from"./getNode-pa7syr6m.js";import{e as B,s as v,a as l}from"./template-1HVcfll6.js";import{i as C}from"./insert-BLqnNt-Q.js";import{g as c}from"./index-35H_NU9g.js";import{p as L}from"./pocketbase-zYAbJ1uT.js";import{r as J}from"./renderNavBar-7tb3M7JA.js";function f(s,n){if(typeof s=="string"&&(s=o(s)),typeof n!="string")throw new TypeError("addClass 함수의 두 번째 인수는 문자 타입 이어야 합니다.");s.classList.add(n)}function a(s,n){if(typeof s=="string"&&(s=o(s)),!n){s.className="";return}if(typeof n!="string")throw new TypeError("removeClass 함수의 두 번째 인수는 문자 타입 이어야 합니다.");s.classList.remove(n)}function U(s,n){if(typeof s=="string"&&(s=o(s)),typeof n!="string")throw new TypeError("toggleClass 함수의 두 번째 인수는 문자 타입 이어야 합니다.");return s.classList.toggle(n)}new Swiper(".swiper",{direction:"horizontal",loop:!0,autoplay:{delay:5e3},speed:1e3,pagination:{el:".swiper-pagination"},navigation:{},scrollbar:{el:".swiper-scrollbar"}});const d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABsSURBVHgB7ZVRCoAwDENT8SC7iif3KrtJdTBBpJtuHwEhDwpjHQ2EsAJCMHD3VAoMqthFwiALyEjw/4Jrq9FJ4P2+JDZ8ZGYZX3lEf5YUzaZbaq3Gi6V7PW9n5XDwiKU99NNIkC44BXUBC3EAhnB8K51c77YAAAAASUVORK5CYII=",F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABjSURBVHgB7ZXRCYBADEOjOEhWcXJXcRNFKPhji/UjcJgHgSM9LlCOFjBGBEOysCNENJkhxoHjBy5FjS/87M7FjgbE/fW/ik8Py1s6FTUW/hbnFXnrMr8N4UnjwBEghAvY/JwT0/UZiKGCF+AAAAAASUVORK5CYII=";c.defaults({ease:"power2.inOut"});const M=o(".Main-menu-story"),K=o(".Main-story-board"),p=o(".active-button-list"),b=o(".Main-menu-exchange"),O=o(".Main-exchange");o(".Main-product-list");const r=o(".Main-plus-button"),S=o(".Main-menu-bar"),V=o(".Main-banner"),Y=o(".loading");(async()=>{const[s,n]=await Promise.all(j()),x=s.items,N=n.items;function R(){y(x,v),y(N,B);const t=A(".story-image"),i=A(".product-image");let e=0;const E=t.length+i.length;t.forEach(u=>{u.onload=()=>{e++,console.log(e),e===E&&a(Y,"active")}}),i.forEach(u=>{u.onload=()=>{e++,console.log(e),e===E&&a(Y,"active")}}),g(".story")}function j(){return[L.collection("senior_story").getList(),L.collection("product_list").getList()]}function m(){const t=A(".Main-menu-list li"),i=A(".page-list");t.forEach(e=>{a(e,"isActive")}),i.forEach(e=>{a(e,"isActive")}),a(r,"isActive"),a(p,"isActive"),l(r.firstElementChild,"src",d)}function h(t,i){f(t,"isActive"),f(i,"isActive")}function w(t){const i=t.split(" ");t==="Main-menu-exchange"&&!i.includes("isActive")&&(m(),h(b,O)),t==="Main-menu-story"&&!i.includes("isActive")&&(m(),h(M,K))}function g(t){c.from(t,{opacity:0,y:10,stagger:.05})}function y(t,i){i===B?t.forEach(e=>{C(".Main-product-list",i(e))}):i===v&&t.forEach(e=>{C(".Main-story-board",i(e))})}function T(t){const i=t.currentTarget.className;w(i),g(".product")}function X(t){const i=t.currentTarget.className;w(i),g(".story")}function I(){parseInt(window.scrollY)>=220?f(S,"fixed"):(a(S,"fixed"),V.style.transform=`translateY(${-window.scrollY/2.5}px)`)}function D(){r.addEventListener("mouseover",()=>{c.to(".Main-plus-button",{duration:.2,scale:1.08,y:-5})}),r.addEventListener("mouseout",()=>{c.to(".Main-plus-button",{duration:.2,scale:1,y:0})}),r.addEventListener("click",()=>{l(r.firstElementChild,"src")===d?l(r.firstElementChild,"src",F):l(r.firstElementChild,"src",d),U(r,"isActive"),U(p,"isActive"),Array.from(p.classList).includes("isActive")&&c.from(".active-button-list > li",{opacity:0,x:15,y:15,stagger:.02,ease:"power2.out"})})}J(),R(),M.addEventListener("click",X),b.addEventListener("click",T),window.addEventListener("scroll",I),D()})();
