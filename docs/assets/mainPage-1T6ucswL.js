import"./tiger-5hZ-PmLe.js";import{g as n,a as A,i as B}from"./insert-xagiYKFv.js";import{e as v,s as C,a as l}from"./template-WKnfzMhj.js";import{g as c}from"./index-35H_NU9g.js";import{p as L}from"./pocketbase-zYAbJ1uT.js";import{r as J}from"./renderNavBar-c6batOFe.js";function f(s,o){if(typeof s=="string"&&(s=n(s)),typeof o!="string")throw new TypeError("addClass 함수의 두 번째 인수는 문자 타입 이어야 합니다.");s.classList.add(o)}function r(s,o){if(typeof s=="string"&&(s=n(s)),!o){s.className="";return}if(typeof o!="string")throw new TypeError("removeClass 함수의 두 번째 인수는 문자 타입 이어야 합니다.");s.classList.remove(o)}function U(s,o){if(typeof s=="string"&&(s=n(s)),typeof o!="string")throw new TypeError("toggleClass 함수의 두 번째 인수는 문자 타입 이어야 합니다.");return s.classList.toggle(o)}new Swiper(".swiper",{direction:"horizontal",loop:!0,autoplay:{delay:5e3},speed:1e3,pagination:{el:".swiper-pagination"},navigation:{},scrollbar:{el:".swiper-scrollbar"}});const d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABsSURBVHgB7ZVRCoAwDENT8SC7iif3KrtJdTBBpJtuHwEhDwpjHQ2EsAJCMHD3VAoMqthFwiALyEjw/4Jrq9FJ4P2+JDZ8ZGYZX3lEf5YUzaZbaq3Gi6V7PW9n5XDwiKU99NNIkC44BXUBC3EAhnB8K51c77YAAAAASUVORK5CYII=",F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABjSURBVHgB7ZXRCYBADEOjOEhWcXJXcRNFKPhji/UjcJgHgSM9LlCOFjBGBEOysCNENJkhxoHjBy5FjS/87M7FjgbE/fW/ik8Py1s6FTUW/hbnFXnrMr8N4UnjwBEghAvY/JwT0/UZiKGCF+AAAAAASUVORK5CYII=";c.defaults({ease:"power2.inOut"});const M=n(".Main-menu-story"),K=n(".Main-story-board"),p=n(".active-button-list"),b=n(".Main-menu-exchange"),O=n(".Main-exchange");n(".Main-product-list");const a=n(".Main-plus-button"),S=n(".Main-menu-bar"),V=n(".Main-banner"),Y=n(".loading");(async()=>{const[s,o]=await Promise.all(j()),x=s.items,N=o.items;function R(){y(x,C),y(N,v);const t=A(".story-image"),i=A(".product-image");let e=0;const E=t.length+i.length;t.forEach(u=>{u.onload=()=>{e++,console.log(e),e===E&&r(Y,"active")}}),i.forEach(u=>{u.onload=()=>{e++,console.log(e),e===E&&r(Y,"active")}}),g(".story")}function j(){return[L.collection("senior_story").getList(),L.collection("product_list").getList()]}function m(){const t=A(".Main-menu-list li"),i=A(".page-list");t.forEach(e=>{r(e,"isActive")}),i.forEach(e=>{r(e,"isActive")}),r(a,"isActive"),r(p,"isActive"),l(a.firstElementChild,"src",d)}function h(t,i){f(t,"isActive"),f(i,"isActive")}function w(t){const i=t.split(" ");t==="Main-menu-exchange"&&!i.includes("isActive")&&(m(),h(b,O)),t==="Main-menu-story"&&!i.includes("isActive")&&(m(),h(M,K))}function g(t){c.from(t,{opacity:0,y:10,stagger:.05})}function y(t,i){i===v?t.forEach(e=>{B(".Main-product-list",i(e))}):i===C&&t.forEach(e=>{B(".Main-story-board",i(e))})}function T(t){const i=t.currentTarget.className;w(i),g(".product")}function X(t){const i=t.currentTarget.className;w(i),g(".story")}function I(){parseInt(window.scrollY)>=220?f(S,"fixed"):(r(S,"fixed"),V.style.transform=`translateY(${-window.scrollY/2.5}px)`)}function D(){a.addEventListener("mouseover",()=>{c.to(".Main-plus-button",{duration:.2,scale:1.08,y:-5})}),a.addEventListener("mouseout",()=>{c.to(".Main-plus-button",{duration:.2,scale:1,y:0})}),a.addEventListener("click",()=>{l(a.firstElementChild,"src")===d?l(a.firstElementChild,"src",F):l(a.firstElementChild,"src",d),U(a,"isActive"),U(p,"isActive"),Array.from(p.classList).includes("isActive")&&c.from(".active-button-list > li",{opacity:0,x:15,y:15,stagger:.02,ease:"power2.out"})})}J(),R(),M.addEventListener("click",X),b.addEventListener("click",T),window.addEventListener("scroll",I),D()})();
